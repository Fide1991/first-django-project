{% extends 'base.html' %}

 {% block content %}
    {% if id %}
        <h1>Actualizar usuario</h1>
        <form action="{% url 'users:update' id %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ user_form.as_p }}
            {{ profile_form.as_p }}
            {% if image %}
                <img src="{{ image.url }}" alt="Imagen" width="100" height="100">
                
            {% else %}
                <img src="https://cdnlrv.lavoz.com.ar/img/user/default.jpg" alt"Imagen del usuario" with="100" height="100">
            {% endif %} 
            <input type="submit" value="Actualizar usario">
        </form>
    {% else %}
        <h1>Crea un usuario nuevo</h1>
        <form action="{% url 'users:create' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ user_form.as_p }}
            {{ profile_form.as_p }}
            <input type="submit" value="Crear usario">
        </form>
    {% endif %}

 {% endblock content %}

<!--enctype es para indicar que se va a mandar mas formatos que solo texto.
        usamos el metodo POST para mandar la informacion oculta, get la manda por la ruta
        
        <h1>Crea un usuario nuevo</h1>
    <form action="{% url 'users:create' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ user_form.as_p }}
        {{ profile_form.as_p }}
        <input type="submit" value="Crear usario">
    </form>
        
        
        -->